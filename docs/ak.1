.TH AK 1 "2024-12-17" "AK 4.1.11" "AK Manual"
.SH NAME
ak \- secure API key manager for developers
.SH SYNOPSIS
.B ak
.RI [ OPTION ]...
.RI [ COMMAND ]
.RI [ ARGS ]...
.SH DESCRIPTION
.B ak
is a cross-platform command-line tool for managing API keys securely across different services. It provides encrypted storage, service integration, and comprehensive testing capabilities for developers working with multiple APIs.

.B ak
stores API keys in an encrypted local vault using industry-standard cryptographic algorithms, ensuring your sensitive credentials remain secure while providing easy access when needed.

.SH COMMANDS
.SS Key Management
.TP
.B ak add \fIname\fR \fIkey\fR
Add a new API key with the specified name. The key will be encrypted and stored securely in the local vault.
.TP
.B ak get \fIname\fR
Retrieve and display the API key for the specified name. Use with caution as this will display the key in plain text.
.TP
.B ak get \fIname\fR --copy
Retrieve the API key and copy it directly to the system clipboard without displaying it on screen.
.TP
.B ak list
List all stored API key names without displaying the actual keys.
.TP
.B ak remove \fIname\fR
Remove the specified API key from the vault permanently. This action cannot be undone.
.TP
.B ak update \fIname\fR \fIkey\fR
Update an existing API key with a new value.

.SS Service Testing
.TP
.B ak test \fIservice\fR
Test the API connection for a specific service. Supported services include openai, github, aws, and others.
.TP
.B ak test --all
Test all configured API keys against their respective services.
.TP
.B ak test --list
List all available service test configurations.

.SS Shell Integration
.TP
.B ak completion bash
Generate bash completion script for the ak command.
.TP
.B ak completion zsh
Generate zsh completion script for the ak command.
.TP
.B ak completion fish
Generate fish shell completion script for the ak command.

.SS Vault Management
.TP
.B ak vault init
Initialize a new encrypted vault. This is automatically done on first use.
.TP
.B ak vault status
Display information about the current vault, including location and encryption status.
.TP
.B ak vault backup \fIpath\fR
Create a backup of the encrypted vault to the specified path.
.TP
.B ak vault restore \fIpath\fR
Restore vault from a backup file. This will overwrite the current vault.
.TP
.B ak vault export \fIpath\fR
Export all keys to a JSON file (encrypted). Useful for migration or backup.
.TP
.B ak vault import \fIpath\fR
Import keys from an exported JSON file.

.SS Configuration
.TP
.B ak config set \fIkey\fR \fIvalue\fR
Set a configuration option. Common options include vault_path, default_service, and timeout.
.TP
.B ak config get \fIkey\fR
Get the current value of a configuration option.
.TP
.B ak config list
List all current configuration options and their values.
.TP
.B ak config reset
Reset all configuration to default values.

.SH OPTIONS
.TP
.B \-h, \-\-help
Display help information and exit.
.TP
.B \-v, \-\-version
Display version information and exit.
.TP
.B \-\-verbose
Enable verbose output for debugging.
.TP
.B \-\-quiet
Suppress all non-essential output.
.TP
.B \-\-vault-path \fIPATH\fR
Specify a custom path for the vault file. Overrides the default or configured path.
.TP
.B \-\-timeout \fISECONDS\fR
Set timeout for API test operations (default: 30 seconds).
.TP
.B \-\-no-color
Disable colored output.
.TP
.B \-\-format \fIFORMAT\fR
Output format for list and status commands. Options: table, json, yaml (default: table).

.SH SUPPORTED SERVICES
.B ak
includes built-in support for testing the following services:
.TP
.B openai
OpenAI API - Tests authentication and basic API access
.TP
.B github
GitHub API - Validates token and user access
.TP
.B aws
Amazon Web Services - Tests AWS credentials and permissions
.TP
.B google
Google Cloud Platform - Validates service account or OAuth credentials
.TP
.B stripe
Stripe Payment API - Tests API key validity
.TP
.B sendgrid
SendGrid Email API - Validates API key and account status
.TP
.B twilio
Twilio Communication API - Tests account SID and auth token
.TP
.B slack
Slack API - Validates bot or user tokens
.TP
.B discord
Discord Bot API - Tests bot token validity
.TP
.B heroku
Heroku Platform API - Validates API key and app access

.SH CONFIGURATION FILES
.TP
.B ~/.config/ak/config.yaml
Main configuration file containing user preferences and default settings.
.TP
.B ~/.config/ak/vault.enc
Encrypted vault file containing all stored API keys.
.TP
.B ~/.config/ak/services.yaml
Custom service definitions for testing additional APIs.

.SH ENVIRONMENT VARIABLES
.TP
.B AK_VAULT_PATH
Override the default vault file location.
.TP
.B AK_CONFIG_PATH
Override the default configuration directory.
.TP
.B AK_NO_COLOR
Disable colored output (equivalent to --no-color).
.TP
.B AK_VERBOSE
Enable verbose output (equivalent to --verbose).
.TP
.B AK_TIMEOUT
Default timeout for API operations in seconds.

.SH EXAMPLES
.TP
Add an OpenAI API key:
.B ak add openai sk-1234567890abcdef1234567890abcdef
.TP
Test GitHub API connection:
.B ak test github
.TP
List all stored keys:
.B ak list
.TP
Get a key and copy to clipboard:
.B ak get openai --copy
.TP
Install bash completions:
.B ak completion bash | sudo tee /etc/bash_completion.d/ak
.TP
Backup your vault:
.B ak vault backup ~/ak-backup.enc
.TP
Test all configured services:
.B ak test --all

.SH SECURITY CONSIDERATIONS
.TP
.B Encryption
All API keys are encrypted using AES-256-GCM with a key derived from a master password using PBKDF2.
.TP
.B Storage
The vault file is stored with restricted permissions (600) to prevent unauthorized access.
.TP
.B Memory
Keys are cleared from memory immediately after use to minimize exposure time.
.TP
.B Network
All service tests use HTTPS connections. No keys are transmitted in plain text.
.TP
.B Backup
Always backup your vault file and store it securely. Lost master passwords cannot be recovered.

.SH FILES
.TP
.B ~/.config/ak/
Default configuration directory
.TP
.B ~/.config/ak/vault.enc
Encrypted key storage
.TP
.B ~/.config/ak/config.yaml
Configuration file
.TP
.B /etc/ak/
System-wide configuration directory
.TP
.B /usr/share/ak/
Shared application data

.SH DIAGNOSTICS
.TP
.B Exit Status 0
Success
.TP
.B Exit Status 1
General error
.TP
.B Exit Status 2
Invalid command or arguments
.TP
.B Exit Status 3
Vault access error (permissions, corruption, wrong password)
.TP
.B Exit Status 4
Network error during service testing
.TP
.B Exit Status 5
Service authentication failed
.TP
.B Exit Status 6
Configuration error

.SH BUGS
Report bugs at: https://github.com/apertacodex/ak/issues

Please include the following information in bug reports:
.TP
\(bu Operating system and version
.TP
\(bu AK version (ak --version)
.TP
\(bu Command that triggered the error
.TP
\(bu Error message (use --verbose for detailed output)
.TP
\(bu Steps to reproduce the issue

.SH AUTHOR
AK development team

.SH COPYRIGHT
Copyright (C) 2024 apertacodex. This software is licensed under the terms of the End-User License Agreement (EULA). See the EULA.txt file for complete license terms. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

.SH SEE ALSO
.BR gpg (1),
.BR pass (1),
.BR keyring (1),
.BR ssh-agent (1)

For complete documentation, visit: https://github.com/apertacodex/ak

.SH VERSION
This manual page corresponds to AK version 4.1.11.
